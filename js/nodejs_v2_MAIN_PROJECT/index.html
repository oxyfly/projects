<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>nodeJS</title>

  <script type="text/javascript">
    window.onload = function () {
      const btn = document.getElementById('btn');
      const inp = document.getElementsByTagName('input');

      btn.addEventListener('click', function () {
        let xhr = new XMLHttpRequest(); // РАБОТА С HTTP-ЗАПРОСАМИ
        xhr.open('POST', '/login');

        //ДАННЫЕ ПОЛЬЗОАТЕЛЯ (АССОЦИАТИВНЫЙ МАССИВ КАК ОБЪЕКТ)
        let userData = {
          username: inp[0].value,
          password: inp[1].value
        };

        //ТИП КОНТЕНТА - ОБЯЗАТЕЛЕН (КАК И В HTML...)
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.send(JSON.stringify(userData)); //ПЕРЕДАЧА ДАННЫХ (серелизация)

        xhr.onload = function () {
          alert(this.responseText);
        };

        xhr.onerror = function () {
          alert('ERROR')
        }
      })
    }
  </script>

</head>
<body>

<div class="wrapper" style="margin: 100px auto; border: solid 1px; background-color: aliceblue; width: 350px; padding: 5px">
  <h1 style="padding-left: 20px">NodeJS Authorization</h1>
  <label for="login">Username:</label> <input type="text" id="login"><br>
  <label for="password">Password:</label> <input type="password" id="password" style="margin: 3px 3px"><br>
  <input type="button" value="Log In" id="btn" style="margin-left: 145px">
</div>

</body>
</html>
